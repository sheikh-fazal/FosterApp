import { baseAPI } from "@root/services/baseApi";
import { generalTags } from "@root/utils/apiHelper";

const TAG = "CARER_FAMILY_NETWORK";

export const contactApi = baseAPI.injectEndpoints({
  endpoints: (builder) => ({
    getChildExploitationTableApi: builder.query({
      query: ({ params, fosterChildId }: any) => ({
        url: `/events-and-notification/child-exploitations/List`,
        method: "GET",
        params: {
          fosterChildId,
          ...params,
        },
      }),
      providesTags: (result) => generalTags(result?.faimly_details, TAG),
    }),
    postChildExploitationApi: builder.mutation({
      query: ({ body, fosterChildId }: any) => ({
        url: `school-info/${fosterChildId}`,
        method: "POST",
        body,
      }),
      invalidatesTags: [TAG],
    }),
    getChildExploitationById: builder.query({
      query: (id) => `/events-and-notification/child-explotaition/${id}`,
    }),
    // putChildExploitationById: builder.mutation({
    //   query: ({ body, schoolInfoId }: any) => {
    //     return {
    //       url: `/school-info/${schoolInfoId}`,
    //       method: "PATCH",
    //       body,
    //     };
    //   },
    //   invalidatesTags: [TAG],
    // }),
    // deleteChildExploitationById: builder.mutation<null, void>({
    //   query: (data: any) => {
    //     const { id } = data;
    //     return {
    //       url: `/school-info/${id}`,
    //       method: "DELETE",
    //     };
    //   },
    //   invalidatesTags: [TAG],
    // }),
    // documents upload
    getUploadDocumentsChildExploitation: builder.query({
      query: ({ id, params }: any) => ({
        url: `/events-and-notification/uploaded-documents/List/${id}`,
        method: "GET",
        params,
      }),
      providesTags: (result) => generalTags(result?.faimly_details, TAG),
    }),
    getChildExploitationDocumentsById: builder.query({
      query: (id) => `/events-and-notification/uploaded-documents/${id}`,
    }),
    // postUploadDocumentsChildExploitationApi: builder.mutation({
    //   query: (body: any) => ({
    //     url: `/education-records/uploaded-documents`,
    //     method: "POST",
    //     body,
    //   }),
    //   invalidatesTags: [TAG],
    // }),
    // deleteUploadDocumentsChildExploitationById: builder.mutation<null, void>({
    //   query: (id: any) => {
    //     return {
    //       url: `education-records/uploaded-document/${id}`,
    //       method: "DELETE",
    //     };
    //   },
    //   invalidatesTags: [TAG],
    // }),
  }),
});

export const {
  useGetChildExploitationTableApiQuery,
  usePostChildExploitationApiMutation,
  useGetChildExploitationByIdQuery,
  // usePutChildExploitationByIdMutation,
  // useDeleteChildExploitationByIdMutation,
  //documentUpload
  useGetUploadDocumentsChildExploitationQuery,
  useGetChildExploitationDocumentsByIdQuery,
  // usePostUploadDocumentsChildExploitationApiMutation,
  // useDeleteUploadDocumentsChildExploitationByIdMutation,
} = contactApi;
